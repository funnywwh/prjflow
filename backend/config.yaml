server:
  port: 8080
  mode: debug
  read_timeout: 30
  write_timeout: 30

database:
  type: sqlite  # sqlite or mysql
  dsn: data.db  # SQLite文件路径，或MySQL DSN格式: user:password@tcp(host:port)/dbname?charset=utf8mb4&parseTime=True&loc=Local

jwt:
  secret: your-secret-key-change-in-production
  expiration: 24  # 小时

wechat:
  app_id: ""
  app_secret: ""
  # account_type: "open_platform" (开放平台网站应用) 或 "official_account" (公众号)
  # 默认: "open_platform"
  # 注意：公众号网页授权需要在微信内打开，不能扫码登录
  account_type: "official_account"  # 如果使用公众号，改为 "official_account"
  # scope: "snsapi_base" (静默授权，只能获取openid) 或 "snsapi_userinfo" (需要用户确认，可获取用户信息)
  # 仅当 account_type 为 "official_account" 时有效
  scope: "snsapi_userinfo"
  # callback_domain: 回调域名，必须与微信后台配置的授权回调域名一致
  # 例如：https://project.smartxy.com.cn 或 https://abc123.ngrok.io
  # 如果不设置，系统会从 Referer 头自动获取（可能不准确）
  # 生产环境强烈建议设置此值，确保与微信后台配置一致
  callback_domain: "https://project.smartxy.com.cn/"  # 使用公网服务器域名（通过 nginx 反向代理）

upload:
  # 文件存储路径（相对路径或绝对路径）
  # 相对路径：相对于程序运行目录
  # 绝对路径：如 /var/www/uploads
  storage_path: "uploads"
  # 最大文件大小（字节），100MB = 104857600
  max_file_size: 104857600
  # 允许的文件类型（MIME类型），空数组表示允许所有类型
  # 示例：["image/jpeg", "image/png", "application/pdf"]
  allowed_types: []

